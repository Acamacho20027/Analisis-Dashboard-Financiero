<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinScope - Dashboard</title>
    <link rel="stylesheet" href="/styles/styles.css">
</head>
<body class="dashboard-page">
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">📊</div>
                    <div class="logo-text">
                        <span class="core">Fin</span><span class="wall">Scope</span>
                    </div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="/views/dashboard.html" class="active"><i>🏠</i> Dashboard</a></li>
                    <li><a href="/views/categorias-financieras.html"><i>📊</i> Categorías Financieras</a></li>
                    <li><a href="/views/transacciones.html"><i>💰</i> Transacciones</a></li>
                    <li><a href="/views/reportes.html"><i>📊</i> Reportes</a></li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <button id="logoutBtn" class="btn btn-secondary" style="width: 100%; margin: 0 2rem;">
                    <i>🚪</i> Cerrar Sesión
                </button>
            </div>
        </aside>

        <!-- Contenido Principal -->
        <main class="main-content">
            <header class="page-header">
                <h1 class="page-title">Dashboard</h1>
                <p class="page-subtitle">Bienvenido a tu panel de control financiero</p>
            </header>

            <!-- Mensajes de estado -->
            <div id="successMessage" class="success-message" style="display: none;"></div>
            <div id="errorMessage" class="error-message" style="display: none;"></div>

            <!-- Formulario de Nueva Transacción -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Nueva Transacción</h2>
                </div>
                <form id="transaccionForm" class="transaction-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fecha">Fecha:</label>
                            <input type="date" id="fecha" name="fecha" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="tipo">Tipo:</label>
                            <select id="tipo" name="tipo" required>
                                <option value="">Selecciona el tipo</option>
                                <option value="ingreso">Ingreso</option>
                                <option value="gasto">Gasto</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="categoria">Categoría:</label>
                            <select id="categoria" name="categoria" required>
                                <option value="">Selecciona una categoría</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="monto">Monto:</label>
                            <input type="number" id="monto" name="monto" step="0.01" min="0" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="descripcion">Descripción (opcional):</label>
                            <input type="text" id="descripcion" name="descripcion" placeholder="Descripción de la transacción">
                        </div>
                        
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <button type="submit" class="btn btn-primary">Agregar Transacción</button>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Resumen General -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Resumen General</h2>
                </div>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">💰</div>
                        <div class="metric-content">
                            <h3>Balance Total</h3>
                            <p class="metric-value" id="balanceTotal">$0.00</p>
                            <span class="metric-change positive" id="balanceChange">+0.0%</span>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">📈</div>
                        <div class="metric-content">
                            <h3>Ingresos del Mes</h3>
                            <p class="metric-value" id="ingresosMes">$0.00</p>
                            <span class="metric-change positive" id="ingresosChange">+0.0%</span>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">📉</div>
                        <div class="metric-content">
                            <h3>Gastos del Mes</h3>
                            <p class="metric-value" id="gastosMes">$0.00</p>
                            <span class="metric-change negative" id="gastosChange">+0.0%</span>
                            </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">🎯</div>
                        <div class="metric-content">
                            <h3>Ahorro del Mes</h3>
                            <p class="metric-value" id="ahorroMes">$0.00</p>
                            <span class="metric-change positive" id="ahorroChange">+0.0%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Gráfica de Balance -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Balance Mensual</h2>
                </div>
                <div style="height: 300px; position: relative;">
                    <canvas id="balanceChart"></canvas>
                </div>
            </div>

            <!-- Balance Anual -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Balance Anual</h2>
                </div>
                <div class="annual-balance-container">
                    <div class="balance-summary">
                        <div class="balance-metric">
                            <h3>Balance Total del Año</h3>
                            <p class="balance-value" id="balanceAnual">$0.00</p>
                            <span class="balance-change" id="balanceAnualChange">+0.0%</span>
                        </div>
                        <div class="balance-metric">
                            <h3>Ingresos Anuales</h3>
                            <p class="balance-value" id="ingresosAnuales">$0.00</p>
                        </div>
                        <div class="balance-metric">
                            <h3>Gastos Anuales</h3>
                            <p class="balance-value" id="gastosAnuales">$0.00</p>
                        </div>
                    </div>
                    <div class="balance-chart-container">
                        <canvas id="balanceAnualChart"></canvas>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="/scripts/shared/config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/scripts/dashboard/dashboard.js"></script>
</body>
</html>

